var styleSwitcher={initialized:!1,defaults:{saveToStorage:!0,preserveCookies:!1,colorPrimary:"#2388ED",borderRadius:"4px",layoutStyle:"wide",backgroundPattern:"",showSwitcher:!1},initialize:function(){var t=this,i=$("html").data("style-switcher-options"),r=$("#styleSwitcherScript").data("base-path")?$("#styleSwitcherScript").data("base-path"):"",e=$("head"),o=$("#styleSwitcherScript").data("skin-src")?$("#styleSwitcherScript").data("skin-src"):r+"master/less/skin-default.less";t.basePath=r,t.skinSrc=o,this.initialized||(t.options=$.extend({},t.defaults),$("html").addClass("style-switcher-active"),String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},jQuery.styleSwitcherCachedScript=function(e,o){return o=$.extend(o||{},{dataType:"script",cache:!0,url:e}),jQuery.ajax(o)},null!=$.cookie("borderRadius")&&(t.options.borderRadius=$.cookie("borderRadius")),null!=$.cookie("colorPrimary")&&(t.options.colorPrimary="#"+$.cookie("colorPrimary")),null!=$.cookie("colorSecondary")&&(t.options.colorSecondary="#"+$.cookie("colorSecondary")),null!=$.cookie("colorTertiary")&&(t.options.colorTertiary="#"+$.cookie("colorTertiary")),null!=$.cookie("colorQuaternary")&&(t.options.colorQuaternary="#"+$.cookie("colorQuaternary")),i&&"no"==$.cookie("viewSite")&&(i=i.replace(/'/g,'"'),t.options=$.extend({},t.options,JSON.parse(i)),t.options.preserveCookies=!0,t.options.saveToStorage=!1),e.append($('<link rel="stylesheet">').attr("href",r+"master/style-switcher/style-switcher.css")),$("[data-icon]").get(0)&&$(window).on("theme.plugin.icon.svg.ready",function(){setTimeout(function(){$.event.trigger({type:"styleSwitcher.modifyVars",options:t.options})},10)}),null!=$.cookie("showSwitcher")||t.options.showSwitcher||!$.cookie("initialized")||$(".sw-view-site").get(0)||"no"!=$.cookie("viewSite")?(e.append($('<link id="realtimeskin" rel="stylesheet/less">').attr("href",o)),e.append($('<link rel="stylesheet">').attr("href",r+"master/style-switcher/bootstrap-colorpicker/css/bootstrap-colorpicker.css")),setTimeout(function(){$("#ez-skin").remove()},300),$.styleSwitcherCachedScript(r+"master/style-switcher/bootstrap-colorpicker/js/bootstrap-colorpicker.min.js").done(function(e,o){less={async:!0,env:"production",modifyVars:{"@border-radius":t.options.borderRadius,"@color-primary":t.options.colorPrimary}},$.styleSwitcherCachedScript(r+"master/less/less.js").done(function(e,o){$.ajax({url:r+"master/style-switcher/style.switcher.html"}).done(function(e){$("body").append(e),t.container=$("#styleSwitcher"),t.build(),t.events(),i||(null!=$.cookie("layoutStyle")&&(t.options.layoutStyle=$.cookie("layoutStyle")),null!=$.cookie("backgroundPattern")&&(t.options.backgroundPattern=$.cookie("backgroundPattern"))),t.setLayoutStyle(t.options.layoutStyle),t.setBackgroundPattern(t.options.backgroundPattern),t.setColors(),t.setBorderRadius(t.options.borderRadius),$("#styleSwitcherSimple").remove(),t.initialized=!0,null==$.cookie("initialized")&&$.cookie("initialized",!0)})})}),$.styleSwitcherCachedScript(r+"master/style-switcher/cssbeautify/cssbeautify.js").done(function(e,o){}),null!=$.cookie("colorPrimary")&&$(".sw-view-site:not([data-sw-color])").prev().find("input").val($.cookie("colorPrimary")),self.loadingPreview=!1,self.livepreviewRedirect=function(){$(".sw-view-site").on("mousedown",function(e){if(!self.loadingPreview){self.loadingPreview=!0;var o=$(this).data("sw-color");e.preventDefault(),e.stopPropagation(),$.removeCookie("borderRadius"),$.removeCookie("colorPrimary"),$.removeCookie("layoutStyle"),$.removeCookie("backgroundPattern"),"undefined"!=typeof localStorage&&(localStorage.removeItem("ez-skin.css"),localStorage.removeItem("ez-layout"),localStorage.removeItem(t.skinSrc)),$.cookie("showSwitcher",!0),$.cookie("hideSwitcherTimeout",2e3),null!=o?$.cookie("colorPrimary",o.replace("#","")):$.cookie("colorPrimary",$(this).prev().find("input").val().replace("#","")),$.cookie("viewSite","yes");o=$(this).attr("data-sw-url")?$(this).attr("data-sw-url"):"multi-purpose-1.html";return 2!=e.which?window.location=o:window.open(o,"_blank"),setTimeout(function(){self.loadingPreview=!1},1e3),!1}})},self.livepreviewRedirect(),$.cookie("viewSite","no")):t.initializeSimpleMode())},initializeSimpleMode:function(){var o=this;$("#header .header-logo img"),$("#header .header-logo img").attr("src");$("body").append('<div id="styleSwitcherSimple" class="style-switcher style-switcher-simple d-none d-md-block"><a id="styleSwitcherSimpleOpen" class="style-switcher-open" href="#"><i class="fas fa-cogs"></i></a></div>'),$("#styleSwitcherSimpleOpen").on("click",function(e){e.preventDefault(),$(this).find(".fa").removeClass().addClass("fas fa-cog fa-spin fa-fw"),$.cookie("showSwitcher",!0),o.initialized=!1,o.initialize()})},build:function(){var o=this,t=o.container.find(".color-primary input");$(".sw-select-color .btn-colorpicker").on("mousedown",function(e){var t,i=$(this),o=$(this).closest(".image-frame-wrapper").find("> a").attr("href");return e.stopPropagation(),e.preventDefault(),i.colorpicker({format:"hex"}).colorpicker("show").on("create",function(e){(t=$(".colorpicker").last()).append('<a href="#" class="btn btn-dark sw-view-site align-items-center font-weight-semibold rounded-0 w-100 text-0" data-sw-color="#23ed5c" data-sw-url="'+o+'" style="padding: 0.7rem 0.56rem;">LIVE PREVIEW <i class="fas fa-angle-right ms-2"></i></a>'),self.livepreviewRedirect()}).on("hidePicker",function(e){i.closest(".image-frame").removeClass("show"),i.closest(".hover-effect-3").removeClass("show")}).on("changeColor",function(e){var o=i.colorpicker("getValue");t.find(".sw-view-site").attr("data-sw-color",o)}),i.closest(".image-frame").addClass("show"),i.closest(".hover-effect-3").addClass("show"),!1}),t.val(o.options.colorPrimary).parent().colorpicker({format:"hex"}),$(".colorpicker").on("mousedown touchstart",function(e){e.preventDefault(),o.isChanging=!0}).on("mouseup touchend",function(e){e.preventDefault(),o.isChanging=!1,o.options.colorPrimary=t.val(),o.setColors(),$.cookie("viewSite","yes")}),$(".colorpicker-element input").on("blur",function(e){o.options.colorPrimary=t.val(),o.setColors(),$.cookie("viewSite","yes")}),this.container.find(".options-links.borders a").on("click",function(e){e.preventDefault(),o.setBorderRadius($(this).attr("data-border-radius"))}),this.container.find(".options-links.layout a").on("click",function(e){o.setLayoutStyle($(this).attr("data-layout-type"),!0)}),this.container.find("ul[data-type=patterns]").find("a").on("click",function(e){e.preventDefault(),o.setBackgroundPattern($(this).attr("data-pattern"))}),o.container.find(".reset").on("click",function(e){e.preventDefault(),o.reset()}),o.container.find(".get-css").on("click",function(e){e.preventDefault(),o.getCss()}),$(".sw-view-site:not([data-sw-color])").each(function(){try{$(this).prev().colorpicker("destroy").colorpicker({format:"hex"})}catch(e){}}),$(".expandable-selector .sw-view-site[data-sw-color]").each(function(){var e=$(this).data("sw-color");$(this).css({background:e})})},events:function(){var o=this;$("#styleSwitcherOpen").on("click",function(e){e.preventDefault(),o.container.toggleClass("active")}),null!=$.cookie("showSwitcher")&&($("#styleSwitcherOpen").trigger("click"),$.removeCookie("showSwitcher")),null!=$.cookie("hideSwitcherTimeout")&&(setTimeout(function(){$("#styleSwitcherOpen").trigger("click")},$.cookie("hideSwitcherTimeout")),$.removeCookie("hideSwitcherTimeout"))},setColors:function(e,o){var t=this;if(this.isChanging)return!1;e&&(t.options["color"+o.capitalize()]=e,t.container.find(".color-"+o+" input").val(e)),t.options.preserveCookies||$.cookie("colorPrimary",t.options.colorPrimary.replace("#","")),t.modifyVars()},setBorderRadius:function(e){var o=this;o.options.borderRadius=e,o.options.preserveCookies||$.cookie("borderRadius",e),o.modifyVars();o=this.container.find(".options-links.borders");o.find(".active").removeClass("active"),o.find("a[data-border-radius="+e+"]").addClass("active"),$.event.trigger({type:"styleSwitcher.setBorderRadius",radius:e})},setLayoutStyle:function(e,o){if(this.options.preserveCookies||$.cookie("layoutStyle",e),this.options.saveToStorage&&"undefined"!=typeof localStorage&&localStorage.setItem("ez-layout",e),o)return $.cookie("showSwitcher",!0),window.location.reload(),!1;var t=this.container.find(".options-links.layout"),o=this.container.find(".patterns");t.find(".active").removeClass("active"),("rtl"==e&&$('html[dir="rtl"]').get(0)||"dark"==e&&$("html").hasClass("dark")||"boxed"==e&&$("html").hasClass("boxed")?t.find("a[data-layout-type="+e+"]"):t.find('a[data-layout-type="wide"]')).addClass("active"),$("html").hasClass("boxed")?(o.show(),$("html").addClass("boxed"),null==$.cookie("backgroundPattern")&&this.container.find("ul[data-type=patterns] li:first a").trigger("click")):(o.hide(),$("html").removeClass("boxed"),$.removeCookie("backgroundPattern")),$.event.trigger({type:"styleSwitcher.setLayoutStyle",style:e})},setBackgroundPattern:function(e){if(""==e)return this;$("html").hasClass("boxed")&&$("body").css("background-image","url(img/patterns/"+e+".png)"),this.options.preserveCookies||$.cookie("backgroundPattern",e),$.event.trigger({type:"styleSwitcher.setBackgroundPattern",pattern:e})},modifyVars:function(){var e=this;window.clearTimeout(e.timer),e.timer=window.setTimeout(function(){less.modifyVars({"@border-radius":e.options.borderRadius,"@color-primary":e.options.colorPrimary}),e.options.saveToStorage&&"undefined"!=typeof localStorage&&setTimeout(function(){localStorage.setItem("ez-skin.css",$('style[id^="less:"]').text())},200),$.event.trigger({type:"styleSwitcher.modifyVars",options:e.options})},300)},reset:function(){$.removeCookie("borderRadius"),$.removeCookie("colorPrimary"),$.removeCookie("layoutStyle"),$.removeCookie("backgroundPattern"),$.cookie("showSwitcher",!0),"undefined"!=typeof localStorage&&(localStorage.removeItem("ez-skin.css"),localStorage.removeItem("ez-layout"),localStorage.removeItem(this.skinSrc)),window.location.reload()},getCss:function(){raw="",$("html").hasClass("boxed")?(raw='body { background-image: url("../../img/patterns/'+$.cookie("backgroundPattern")+'.png"); }',$("#addBoxedClassInfo").show()):$("#addBoxedClassInfo").hide(),$("#getCSSTextarea").text($('style[id^="less:"]').text()).focus(function(){var e=$(this);e.select(),e.mouseup(function(){return e.unbind("mouseup"),!1})}),$("#getCSSModal").modal("show"),options={indent:"\t",autosemicolon:!0},raw+=$("#getCSSTextarea").text(),$("#getCSSTextarea").text(cssbeautify(raw,options))}};styleSwitcher.initialize();